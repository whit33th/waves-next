# Логика навигации и сайдбара в Waves

## Концепция

Новая система навигации состоит из трех уровней:

### 1. Основная навигация (Левая панель - Navbar)

- **Главная** - основная страница с рекомендациями
- **Библиотека** - личная коллекция пользователя
- **Подкасты** - раздел подкастов
- **Радио** - онлайн радиостанции
- **Тренды** - популярная музыка

### 2. Контекстная навигация (Средняя панель - DynamicSidebar)

Меняется в зависимости от текущего контекста:

#### Библиотека

- **Избранное** - любимые треки
- **Альбомы** - сохранённые альбомы
- **Исполнители** - отслеживаемые артисты
- **История** - недавно прослушанные треки

#### Поиск

- **Недавние** - недавние поисковые запросы
- **Треки** - результаты поиска треков
- **Альбомы** - найденные альбомы
- **Артисты** - найденные исполнители

#### Очередь

- **Текущая** - текущая очередь воспроизведения
- **Далее** - следующие треки

### 3. Действия сайдбара (Нижняя часть Navbar)

- **Поиск** - открывает контекст поиска в сайдбаре
- **Очередь** - показывает очередь воспроизведения

## UX поведение

1. **Автоматическое переключение**: При переходе на /library автоматически открывается соответствующий контекст в сайдбаре
2. **Контекстные действия**: Поиск и очередь доступны из любого раздела
3. **Состояние сайдбара**: Сайдбар можно свернуть/развернуть
4. **Адаптивность**: На мобильных устройствах сайдбар скрыт

## Состояния

- `currentView`: текущий активный вид сайдбара (library | search | queue)
- `isCollapsed`: состояние свернутости сайдбара
- `activeTab`: активная вкладка в текущем виде

## Компоненты

- `SidebarContext` - управление состоянием
- `DynamicSidebar` - динамическая панель с вкладками
- `Navbar` - основная навигация
- `sidebar.tsx` - контейнер, объединяющий все части
